query SimpleQuery {
    movies {
        title
    }
}

query SimpleQueryWithRelationship {
    movies {
        title
        actors {
            name
        }
    }
}

query SimpleQueryWithNestedWhere {
    movies(where: { actors_SOME: { name: { eq: "Keanu Reeves" } } }) {
        title
        actors {
            name
        }
    }
}

query Nested {
    movies(where: { OR: [{ title: { eq: "The Matrix" } }, { title: { eq: "The Replacements" } }] }) {
        actors {
            name
            movies {
                title
                actors {
                    name
                }
            }
        }
    }
}

query DeeplyNested_skip {
    movies {
        actors {
            name
            movies {
                title
                actors {
                    name
                    movies {
                        title
                        actors {
                            name
                        }
                        directors {
                            name
                        }
                    }
                }
            }
        }
    }
}

query OrFilterOnRelationships {
    movies(
        where: {
            OR: [
                { actors_SOME: { born: { eq: 1997 } } }
                { actors_SOME: { born: { eq: 1998 } } }
                { actors_SOME: { born: { eq: 1999 } } }
                { actors_SOME: { born: { eq: 1956 } } }
                { actors_SOME: { born: { eq: 1975 } } }
                { actors_SOME: { born: { eq: 1976 } } }
            ]
        }
    ) {
        title
        actors {
            name
            born
        }
    }
}

query OrFilterOnRelationshipsAndNested {
    movies(
        where: {
            OR: [
                { actors_SOME: { born: { eq: 1997 } } }
                { actors_SOME: { born: { eq: 1998 } } }
                { actors_SOME: { born: { eq: 1956 } } }
                { directors_SOME: { movies_SOME: { title: { eq: "Matrix" } } } }
                { directors_SOME: { movies_SOME: { title: { eq: "foo" } } } }
                { directors_SOME: { movies_SOME: { title: { eq: "bar" } } } }
            ]
        }
    ) {
        title
        actors {
            name
            born
        }
    }
}

query QueryWithNestedIn {
    movies(where: { actors_SOME: { born_IN: [1997, 1998, 1999, 1956, 1975, 1976] } }) {
        title
        actors {
            name
            born
        }
    }
}

query DeeplyNestedConnectionWhere {
    movies(
        where: {
            actorsConnection_SOME: {
                node: {
                    name: { eq: "Hugo Weaving" }
                    moviesConnection_NONE: {
                        node: {
                            title: { eq: "The Matrix" }
                            directorsConnection_SOME: { node: { name_CONTAINS: "Lana" } }
                        }
                    }
                }
            }
        }
    ) {
        title
    }
}

query DeeplyNestedWithRelationshipFilters {
    people(
        where: {
            name_STARTS_WITH: "T"
            movies_SOME: {
                title_CONTAINS: "i"
                actors_SOME: {
                    name_CONTAINS: "i"
                    movies_SOME: {
                        NOT: { title: { eq: "non-existent" } }
                        actors_SOME: { name_CONTAINS: "i", movies_NONE: { title: { eq: "The Matrix" } } }
                    }
                }
            }
        }
    ) {
        name
    }
}

query NestedWithRelationshipSingleFilters {
    people(
        where: { name_STARTS_WITH: "T", movies_SINGLE: { title_CONTAINS: "i", actors_SINGLE: { name_CONTAINS: "i" } } }
    ) {
        name
    }
}

# Skipped due to cypher bug causing poor performance of deeply nested SINGLE filters on Neo4j 5
query DeeplyNestedWithRelationshipSingleFilters_skip {
    people(
        where: {
            name_STARTS_WITH: "T"
            movies_SINGLE: {
                title_CONTAINS: "i"
                actors_SINGLE: {
                    name_CONTAINS: "i"
                    movies_SINGLE: {
                        NOT: { title: { eq: "non-existant" } }
                        actors_SINGLE: { name_CONTAINS: "i", movies_SINGLE: { title: { eq: "The Matrix" } } }
                    }
                }
            }
        }
    ) {
        name
    }
}
